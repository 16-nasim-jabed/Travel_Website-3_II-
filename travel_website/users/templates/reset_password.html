<!DOCTYPE html>
<html>
<head>
    <title>Reset Password</title>
</head>
<body>
    <h2>Reset Your Password</h2>

    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    {% if success %}
        <p style="color: green;">{{ success }}</p>
    {% else %}
    <form method="POST">
        {% csrf_token %}
        <!--
            This hidden field carries the reset token to the backend on form POST.
            It is required because:
              - The user landed here from /reset-password?token=XYZ
              - But when submitting the form, the token is not in the URL anymore
              - Without this, the backend wouldn't know which reset_token to match
        -->
        <input type="hidden" name="token" value="{{ token }}">

        <label>New Password:</label><br>
        <input type="password" name="password" required><br><br>

        <label>Confirm New Password:</label><br>
        <input type="password" name="confirm_password" required><br><br>

        <button type="submit">Reset Password</button>
    </form>
    {% endif %}
</body>
</html>
